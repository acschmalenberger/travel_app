{"ast":null,"code":"import { signout as _signout } from '../../utils/api-auth.js';\nvar auth = {\n  isAuthenticated: function isAuthenticated() {\n    if (typeof window == 'undefined') return false;\n    if (sessionStorage.getItem('jwt')) return JSON.parse(sessionStorage.getItem('jwt'));else return false;\n  },\n  authenticate: function authenticate(jwt, cb) {\n    if (typeof window !== 'undefined') sessionStorage.setItem('jwt', JSON.stringify(jwt));\n    cb();\n  },\n  signout: function signout(cb) {\n    if (typeof window !== 'undefined') sessionStorage.removeItem('jwt');\n    cb(); //optional\n\n    _signout().then(function (data) {\n      document.cookie = 't=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\n    });\n  }\n};\nexport default auth;","map":{"version":3,"sources":["C:/Users/d_cha/Desktop/travel_app/client/src/components/auth/auth-helper.js"],"names":["signout","auth","isAuthenticated","window","sessionStorage","getItem","JSON","parse","authenticate","jwt","cb","setItem","stringify","removeItem","then","data","document","cookie"],"mappings":"AAAA,SAASA,OAAO,IAAPA,QAAT,QAAwB,yBAAxB;AAEA,IAAMC,IAAI,GAAG;AACTC,EAAAA,eADS,6BACS;AACd,QAAI,OAAOC,MAAP,IAAiB,WAArB,EAAkC,OAAO,KAAP;AAElC,QAAIC,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAJ,EACI,OAAOC,IAAI,CAACC,KAAL,CAAWH,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAX,CAAP,CADJ,KAEK,OAAO,KAAP;AACR,GAPQ;AAQTG,EAAAA,YARS,wBAQIC,GARJ,EAQSC,EART,EAQa;AAClB,QAAI,OAAOP,MAAP,KAAkB,WAAtB,EACIC,cAAc,CAACO,OAAf,CAAuB,KAAvB,EAA8BL,IAAI,CAACM,SAAL,CAAeH,GAAf,CAA9B;AACJC,IAAAA,EAAE;AACL,GAZQ;AAaTV,EAAAA,OAbS,mBAaDU,EAbC,EAaG;AACR,QAAI,OAAOP,MAAP,KAAkB,WAAtB,EAAmCC,cAAc,CAACS,UAAf,CAA0B,KAA1B;AACnCH,IAAAA,EAAE,GAFM,CAGR;;AACAV,IAAAA,QAAO,GAAGc,IAAV,CAAe,UAAAC,IAAI,EAAI;AACnBC,MAAAA,QAAQ,CAACC,MAAT,GAAkB,oDAAlB;AACH,KAFD;AAGH;AApBQ,CAAb;AAuBA,eAAehB,IAAf","sourcesContent":["import { signout } from '../../utils/api-auth.js';\r\n\r\nconst auth = {\r\n    isAuthenticated() {\r\n        if (typeof window == 'undefined') return false;\r\n\r\n        if (sessionStorage.getItem('jwt'))\r\n            return JSON.parse(sessionStorage.getItem('jwt'));\r\n        else return false;\r\n    },\r\n    authenticate(jwt, cb) {\r\n        if (typeof window !== 'undefined')\r\n            sessionStorage.setItem('jwt', JSON.stringify(jwt));\r\n        cb();\r\n    },\r\n    signout(cb) {\r\n        if (typeof window !== 'undefined') sessionStorage.removeItem('jwt');\r\n        cb();\r\n        //optional\r\n        signout().then(data => {\r\n            document.cookie = 't=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\r\n        });\r\n    }\r\n};\r\n\r\nexport default auth;"]},"metadata":{},"sourceType":"module"}