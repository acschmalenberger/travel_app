{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\src\\\\components\\\\user\\\\DeleteUser.js\";\nimport React, { Component } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core//Button';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport Dialog from '@material-ui/core/Dialog';\nimport Delete from '@material-ui/icons/Delete';\nimport auth from '../auth/auth-helper';\nimport { deleteUser } from '../../utils/api-user';\nimport { Redirect, Link } from 'react-router-dom';\n\nvar DeleteUser = /*#__PURE__*/function (_Component) {\n  _inherits(DeleteUser, _Component);\n\n  function DeleteUser() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, DeleteUser);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(DeleteUser)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      redirect: false,\n      open: false\n    };\n\n    _this.clickButton = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.deleteAccount = function () {\n      var jwt = auth.isAuthenticated();\n      deleteUser({\n        userId: _this.props.userId\n      }, {\n        t: jwt.token\n      }).then(function (data) {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          auth.signout(function () {\n            return console.log('deleted');\n          });\n\n          _this.setState({\n            redirect: true\n          });\n        }\n      });\n    };\n\n    _this.handleRequestClose = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(DeleteUser, [{\n    key: \"render\",\n    value: function render() {\n      var redirect = this.state.redirect;\n\n      if (redirect) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 20\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconButton, {\n        \"aria-label\": \"Delete\",\n        onClick: this.clickButton,\n        color: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Delete, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(Dialog, {\n        open: this.state.open,\n        onClose: this.handleRequestClose,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(DialogTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }\n      }, 'Delete Account'), /*#__PURE__*/React.createElement(DialogContent, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(DialogContentText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }\n      }, \"Confirm to delete your account.\")), /*#__PURE__*/React.createElement(DialogActions, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: this.handleRequestClose,\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }\n      }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n        onClick: this.deleteAccount,\n        color: \"secondary\",\n        autoFocus: \"autoFocus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }\n      }, \"Confirm\"))));\n    }\n  }]);\n\n  return DeleteUser;\n}(Component);\n\nexport default DeleteUser;","map":{"version":3,"sources":["C:/Users/d_cha/Desktop/travel_app/client/src/components/user/DeleteUser.js"],"names":["React","Component","IconButton","Button","DialogTitle","DialogActions","DialogContentText","DialogContent","Dialog","Delete","auth","deleteUser","Redirect","Link","DeleteUser","state","redirect","open","clickButton","setState","deleteAccount","jwt","isAuthenticated","userId","props","t","token","then","data","error","console","log","signout","handleRequestClose"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Button from '@material-ui/core//Button';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport auth from '../auth/auth-helper';\r\nimport { deleteUser } from '../../utils/api-user';\r\nimport { Redirect, Link } from 'react-router-dom';\r\n\r\nclass DeleteUser extends Component {\r\n    state = {\r\n        redirect: false,\r\n        open: false\r\n    };\r\n    clickButton = () => {\r\n        this.setState({ open: true });\r\n    };\r\n    deleteAccount = () => {\r\n        const jwt = auth.isAuthenticated();\r\n        deleteUser(\r\n            {\r\n                userId: this.props.userId\r\n            },\r\n            { t: jwt.token }\r\n        ).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                auth.signout(() => console.log('deleted'));\r\n                this.setState({ redirect: true });\r\n            }\r\n        });\r\n    };\r\n    handleRequestClose = () => {\r\n        this.setState({ open: false });\r\n    };\r\n    render() {\r\n        const redirect = this.state.redirect;\r\n        if (redirect) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n        return (\r\n            <span>\r\n                <IconButton\r\n                    aria-label=\"Delete\"\r\n                    onClick={this.clickButton}\r\n                    color=\"secondary\"\r\n                >\r\n                    <Delete />\r\n                </IconButton>\r\n\r\n                <Dialog open={this.state.open} onClose={this.handleRequestClose}>\r\n                    <DialogTitle>{'Delete Account'}</DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText>\r\n                            Confirm to delete your account.\r\n\t\t\t\t\t\t</DialogContentText>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handleRequestClose} color=\"primary\">\r\n                            Cancel\r\n\t\t\t\t\t\t</Button>\r\n                        <Button\r\n                            onClick={this.deleteAccount}\r\n                            color=\"secondary\"\r\n                            autoFocus=\"autoFocus\"\r\n                        >\r\n                            Confirm\r\n\t\t\t\t\t\t</Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </span>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DeleteUser;"]},"metadata":{},"sourceType":"module"}