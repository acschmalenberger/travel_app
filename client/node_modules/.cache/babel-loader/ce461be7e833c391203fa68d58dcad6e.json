{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\src\\\\components\\\\user\\\\Profile.js\";\nimport React, { Component } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport Person from '@material-ui/icons/Person';\nimport Divider from '@material-ui/core/Divider';\nimport auth from '../auth/auth-helper';\nimport { findUserProfile } from '../../utils/api-user.js';\nimport { Redirect, Link } from 'react-router-dom';\nimport DeleteUser from './DeleteUser';\n\nvar styles = function styles(theme) {\n  return {\n    root: theme.mixins.gutters({\n      maxWidth: 600,\n      margin: 'auto',\n      padding: theme.spacing.unit(3),\n      marginTop: theme.spacing.unit(5)\n    }),\n    title: {\n      margin: \"\".concat(theme.spacing(3), \"px 0 \").concat(theme.spacing.unit * 2, \"px\"),\n      color: theme.palette.protectedTitle\n    }\n  };\n};\n\nvar Profile = /*#__PURE__*/function (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile(_ref) {\n    var _this;\n\n    var match = _ref.match;\n\n    _classCallCheck(this, Profile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Profile).call(this));\n\n    _this.init = function (userId) {\n      var jwt = auth.isAuthenticated();\n      findUserProfile({\n        userId: userId\n      }, {\n        t: jwt.token\n      }).then(function (data) {\n        if (data.error) {\n          _this.setState({\n            redirectToSignin: true\n          });\n        } else {\n          _this.setState({\n            user: data\n          });\n        }\n      });\n    };\n\n    _this.componentWillReceiveProps = function (props) {\n      _this.init(props.match.params.userId);\n    };\n\n    _this.componentDidMount = function () {\n      _this.init(_this.match.params.userId);\n    };\n\n    _this.state = {\n      user: '',\n      redirectToSignin: false\n    };\n    _this.match = match;\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var redirectToSignin = this.state.redirectToSignin;\n\n      if (redirectToSignin) {\n        return /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/signin\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 20\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(Paper, {\n        className: classes.root,\n        elevation: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Typography, {\n        type: \"title\",\n        className: classes.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }\n      }, \"Profile\"), /*#__PURE__*/React.createElement(List, {\n        dense: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ListItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Person, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(ListItemText, {\n        primary: this.state.user.name,\n        secondary: this.state.user.email,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }\n      }), \" \", auth.isAuthenticated().user && auth.isAuthenticated().user._id === this.state.user._id && /*#__PURE__*/React.createElement(ListItemSecondaryAction, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(DeleteUser, {\n        userId: this.state.user._id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 37\n        }\n      }))), /*#__PURE__*/React.createElement(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }\n      })));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport default withStyles(styles)(Profile);","map":{"version":3,"sources":["C:/Users/d_cha/Desktop/travel_app/client/src/components/user/Profile.js"],"names":["React","Component","withStyles","Paper","List","ListItem","ListItemAvatar","ListItemText","ListItemSecondaryAction","Avatar","Typography","Person","Divider","auth","findUserProfile","Redirect","Link","DeleteUser","styles","theme","root","mixins","gutters","maxWidth","margin","padding","spacing","unit","marginTop","title","color","palette","protectedTitle","Profile","match","init","userId","jwt","isAuthenticated","t","token","then","data","error","setState","redirectToSignin","user","componentWillReceiveProps","props","params","componentDidMount","state","classes","name","email","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Person from '@material-ui/icons/Person';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport auth from '../auth/auth-helper';\r\nimport { findUserProfile } from '../../utils/api-user.js';\r\nimport { Redirect, Link } from 'react-router-dom';\r\n\r\nimport DeleteUser from './DeleteUser';\r\n\r\nconst styles = theme => ({\r\n    root: theme.mixins.gutters({\r\n        maxWidth: 600,\r\n        margin: 'auto',\r\n        padding: theme.spacing.unit(3),\r\n        marginTop: theme.spacing.unit(5)\r\n    }),\r\n    title: {\r\n        margin: `${theme.spacing(3)}px 0 ${theme.spacing.unit * 2}px`,\r\n        color: theme.palette.protectedTitle\r\n    }\r\n});\r\n\r\nclass Profile extends Component {\r\n    constructor({ match }) {\r\n        super();\r\n        this.state = {\r\n            user: '',\r\n            redirectToSignin: false\r\n        };\r\n        this.match = match;\r\n    }\r\n    init = userId => {\r\n        const jwt = auth.isAuthenticated();\r\n        findUserProfile(\r\n            {\r\n                userId: userId\r\n            },\r\n            { t: jwt.token }\r\n        ).then(data => {\r\n            if (data.error) {\r\n                this.setState({ redirectToSignin: true });\r\n            } else {\r\n                this.setState({ user: data });\r\n            }\r\n        });\r\n    };\r\n    componentWillReceiveProps = props => {\r\n        this.init(props.match.params.userId);\r\n    };\r\n    componentDidMount = () => {\r\n        this.init(this.match.params.userId);\r\n    };\r\n    render() {\r\n        const { classes } = this.props;\r\n        const redirectToSignin = this.state.redirectToSignin;\r\n        if (redirectToSignin) {\r\n            return <Redirect to=\"/signin\" />;\r\n        }\r\n        return (\r\n            <Paper className={classes.root} elevation={4}>\r\n                <Typography type=\"title\" className={classes.title}>\r\n                    Profile\r\n\t\t\t\t</Typography>\r\n                <List dense>\r\n                    <ListItem>\r\n                        <ListItemAvatar>\r\n                            <Avatar>\r\n                                <Person />\r\n                            </Avatar>\r\n                        </ListItemAvatar>\r\n                        <ListItemText\r\n                            primary={this.state.user.name}\r\n                            secondary={this.state.user.email}\r\n                        /> {auth.isAuthenticated().user &&\r\n                            auth.isAuthenticated().user._id === this.state.user._id && (\r\n                                <ListItemSecondaryAction>\r\n                                    <DeleteUser userId={this.state.user._id} />\r\n                                </ListItemSecondaryAction>\r\n                            )}\r\n                    </ListItem>\r\n                    <Divider />\r\n                </List>\r\n            </Paper >\r\n        );\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(Profile);"]},"metadata":{},"sourceType":"module"}