{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\d_cha\\\\Desktop\\\\travel_app\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React, { Component } from 'react';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport AppBar from 'material-ui/AppBar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TextField from 'material-ui/TextField';\nimport DropDownMenu from 'material-ui/DropDownMenu';\nimport MenuItem from 'material-ui/MenuItem';\nimport axios from 'axios';\nimport UploadPage from './UploadPage';\nvar apiBaseUrl = \"http://localhost:4000/api/\";\n\nvar Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    var localloginComponent = [];\n    localloginComponent.push( /*#__PURE__*/React.createElement(MuiThemeProvider, {\n      key: \"theme\",\n      __self: _assertThisInitialized(_assertThisInitialized(_this)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _assertThisInitialized(_assertThisInitialized(_this)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      hintText: \"Enter your College Rollno\",\n      floatingLabelText: \"Student Id\",\n      onChange: function onChange(event, newValue) {\n        return _this.setState({\n          username: newValue\n        });\n      },\n      __self: _assertThisInitialized(_assertThisInitialized(_this)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _assertThisInitialized(_assertThisInitialized(_this)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      type: \"password\",\n      hintText: \"Enter your Password\",\n      floatingLabelText: \"Password\",\n      onChange: function onChange(event, newValue) {\n        return _this.setState({\n          password: newValue\n        });\n      },\n      __self: _assertThisInitialized(_assertThisInitialized(_this)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _assertThisInitialized(_assertThisInitialized(_this)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(RaisedButton, {\n      label: \"Submit\",\n      primary: true,\n      style: style,\n      onClick: function onClick(event) {\n        return _this.handleClick(event);\n      },\n      __self: _assertThisInitialized(_assertThisInitialized(_this)),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 21\n      }\n    }))));\n    _this.state = {\n      username: '',\n      password: '',\n      menuValue: 1,\n      loginComponent: localloginComponent,\n      loginRole: 'student'\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      // console.log(\"willmount prop values\",this.props);\n      if (this.props.role != undefined) {\n        if (this.props.role == 'student') {\n          console.log(\"in student componentWillMount\");\n          var localloginComponent = [];\n          localloginComponent.push( /*#__PURE__*/React.createElement(MuiThemeProvider, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(TextField, {\n            hintText: \"Enter your College Rollno\",\n            floatingLabelText: \"Student Id\",\n            onChange: function onChange(event, newValue) {\n              return _this2.setState({\n                username: newValue\n              });\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }\n          }), /*#__PURE__*/React.createElement(TextField, {\n            type: \"password\",\n            hintText: \"Enter your Password\",\n            floatingLabelText: \"Password\",\n            onChange: function onChange(event, newValue) {\n              return _this2.setState({\n                password: newValue\n              });\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }\n          }), /*#__PURE__*/React.createElement(RaisedButton, {\n            label: \"Submit\",\n            primary: true,\n            style: style,\n            onClick: function onClick(event) {\n              return _this2.handleClick(event);\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }\n          }))));\n          this.setState({\n            menuValue: 1,\n            loginComponent: localloginComponent,\n            loginRole: 'student'\n          });\n        } else if (this.props.role == 'teacher') {\n          console.log(\"in teacher componentWillMount\");\n          var localloginComponent = [];\n          localloginComponent.push( /*#__PURE__*/React.createElement(MuiThemeProvider, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(TextField, {\n            hintText: \"Enter your College Rollno\",\n            floatingLabelText: \"Teacher Id\",\n            onChange: function onChange(event, newValue) {\n              return _this2.setState({\n                username: newValue\n              });\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 29\n            }\n          }), /*#__PURE__*/React.createElement(TextField, {\n            type: \"password\",\n            hintText: \"Enter your Password\",\n            floatingLabelText: \"Password\",\n            onChange: function onChange(event, newValue) {\n              return _this2.setState({\n                password: newValue\n              });\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }\n          }), /*#__PURE__*/React.createElement(RaisedButton, {\n            label: \"Submit\",\n            primary: true,\n            style: style,\n            onClick: function onClick(event) {\n              return _this2.handleClick(event);\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }\n          }))));\n          this.setState({\n            menuValue: 2,\n            loginComponent: localloginComponent,\n            loginRole: 'teacher'\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(event) {\n      var self = this;\n      var payload = {\n        \"userid\": this.state.username,\n        \"password\": this.state.password,\n        \"role\": this.state.loginRole\n      };\n      axios.post(apiBaseUrl + 'login', payload).then(function (response) {\n        console.log(response);\n\n        if (response.data.code == 200) {\n          console.log(\"Login successfull\");\n          var uploadScreen = [];\n          uploadScreen.push( /*#__PURE__*/React.createElement(UploadPage, {\n            appContext: self.props.appContext,\n            role: self.state.loginRole,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 39\n            }\n          }));\n          self.props.appContext.setState({\n            loginPage: [],\n            uploadScreen: uploadScreen\n          });\n        } else if (response.data.code == 204) {\n          console.log(\"Username password do not match\");\n          alert(response.data.success);\n        } else {\n          console.log(\"Username does not exists\");\n          alert(\"Username does not exist\");\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"handleMenuChange\",\n    value: function handleMenuChange(value) {\n      var _this3 = this;\n\n      console.log(\"menuvalue\", value);\n      var loginRole;\n\n      if (value == 1) {\n        var localloginComponent = [];\n        loginRole = 'student';\n        localloginComponent.push( /*#__PURE__*/React.createElement(MuiThemeProvider, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(TextField, {\n          hintText: \"Enter your College Rollno\",\n          floatingLabelText: \"Student Id\",\n          onChange: function onChange(event, newValue) {\n            return _this3.setState({\n              username: newValue\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(TextField, {\n          type: \"password\",\n          hintText: \"Enter your Password\",\n          floatingLabelText: \"Password\",\n          onChange: function onChange(event, newValue) {\n            return _this3.setState({\n              password: newValue\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(RaisedButton, {\n          label: \"Submit\",\n          primary: true,\n          style: style,\n          onClick: function onClick(event) {\n            return _this3.handleClick(event);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }\n        }))));\n      } else if (value == 2) {\n        var localloginComponent = [];\n        loginRole = 'teacher';\n        localloginComponent.push( /*#__PURE__*/React.createElement(MuiThemeProvider, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(TextField, {\n          hintText: \"Enter your College Rollno\",\n          floatingLabelText: \"Teacher Id\",\n          onChange: function onChange(event, newValue) {\n            return _this3.setState({\n              username: newValue\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(TextField, {\n          type: \"password\",\n          hintText: \"Enter your Password\",\n          floatingLabelText: \"Password\",\n          onChange: function onChange(event, newValue) {\n            return _this3.setState({\n              password: newValue\n            });\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(RaisedButton, {\n          label: \"Submit\",\n          primary: true,\n          style: style,\n          onClick: function onClick(event) {\n            return _this3.handleClick(event);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }\n        }))));\n      }\n\n      this.setState({\n        menuValue: value,\n        loginComponent: localloginComponent,\n        loginRole: loginRole\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(MuiThemeProvider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(AppBar, {\n        title: \"Login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(MuiThemeProvider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 25\n        }\n      }, \"Login as:\"), /*#__PURE__*/React.createElement(DropDownMenu, {\n        value: this.state.menuValue,\n        onChange: function onChange(event, index, value) {\n          return _this4.handleMenuChange(value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(MenuItem, {\n        value: 1,\n        primaryText: \"Student\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(MenuItem, {\n        value: 2,\n        primaryText: \"Teacher\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 29\n        }\n      })))), this.state.loginComponent);\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar style = {\n  margin: 15\n};\nexport default Login;","map":{"version":3,"sources":["C:/Users/d_cha/Desktop/travel_app/client/src/components/Login.js"],"names":["React","Component","MuiThemeProvider","AppBar","RaisedButton","TextField","DropDownMenu","MenuItem","axios","UploadPage","apiBaseUrl","Login","props","localloginComponent","push","event","newValue","setState","username","password","style","handleClick","state","menuValue","loginComponent","loginRole","role","undefined","console","log","self","payload","post","then","response","data","code","uploadScreen","appContext","loginPage","alert","success","catch","error","value","index","handleMenuChange","margin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\r\nimport AppBar from 'material-ui/AppBar';\r\nimport RaisedButton from 'material-ui/RaisedButton';\r\nimport TextField from 'material-ui/TextField';\r\nimport DropDownMenu from 'material-ui/DropDownMenu';\r\nimport MenuItem from 'material-ui/MenuItem';\r\nimport axios from 'axios';\r\nimport UploadPage from './UploadPage';\r\nvar apiBaseUrl = \"http://localhost:4000/api/\";\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        var localloginComponent = [];\r\n        localloginComponent.push(\r\n            <MuiThemeProvider key={\"theme\"}>\r\n                <div>\r\n                    <TextField\r\n                        hintText=\"Enter your College Rollno\"\r\n                        floatingLabelText=\"Student Id\"\r\n                        onChange={(event, newValue) => this.setState({ username: newValue })}\r\n                    />\r\n                    <br />\r\n                    <TextField\r\n                        type=\"password\"\r\n                        hintText=\"Enter your Password\"\r\n                        floatingLabelText=\"Password\"\r\n                        onChange={(event, newValue) => this.setState({ password: newValue })}\r\n                    />\r\n                    <br />\r\n                    <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)} />\r\n                </div>\r\n            </MuiThemeProvider>\r\n        )\r\n        this.state = {\r\n            username: '',\r\n            password: '',\r\n            menuValue: 1,\r\n            loginComponent: localloginComponent,\r\n            loginRole: 'student'\r\n        }\r\n    }\r\n    componentWillMount() {\r\n        // console.log(\"willmount prop values\",this.props);\r\n        if (this.props.role != undefined) {\r\n            if (this.props.role == 'student') {\r\n                console.log(\"in student componentWillMount\");\r\n                var localloginComponent = [];\r\n                localloginComponent.push(\r\n                    <MuiThemeProvider>\r\n                        <div>\r\n                            <TextField\r\n                                hintText=\"Enter your College Rollno\"\r\n                                floatingLabelText=\"Student Id\"\r\n                                onChange={(event, newValue) => this.setState({ username: newValue })}\r\n                            />\r\n                            <br />\r\n                            <TextField\r\n                                type=\"password\"\r\n                                hintText=\"Enter your Password\"\r\n                                floatingLabelText=\"Password\"\r\n                                onChange={(event, newValue) => this.setState({ password: newValue })}\r\n                            />\r\n                            <br />\r\n                            <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)} />\r\n                        </div>\r\n                    </MuiThemeProvider>\r\n                )\r\n                this.setState({ menuValue: 1, loginComponent: localloginComponent, loginRole: 'student' })\r\n            }\r\n            else if (this.props.role == 'teacher') {\r\n                console.log(\"in teacher componentWillMount\");\r\n                var localloginComponent = [];\r\n                localloginComponent.push(\r\n                    <MuiThemeProvider>\r\n                        <div>\r\n                            <TextField\r\n                                hintText=\"Enter your College Rollno\"\r\n                                floatingLabelText=\"Teacher Id\"\r\n                                onChange={(event, newValue) => this.setState({ username: newValue })}\r\n                            />\r\n                            <br />\r\n                            <TextField\r\n                                type=\"password\"\r\n                                hintText=\"Enter your Password\"\r\n                                floatingLabelText=\"Password\"\r\n                                onChange={(event, newValue) => this.setState({ password: newValue })}\r\n                            />\r\n                            <br />\r\n                            <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)} />\r\n                        </div>\r\n                    </MuiThemeProvider>\r\n                )\r\n                this.setState({ menuValue: 2, loginComponent: localloginComponent, loginRole: 'teacher' })\r\n            }\r\n        }\r\n    }\r\n    handleClick(event) {\r\n        var self = this;\r\n        var payload = {\r\n            \"userid\": this.state.username,\r\n            \"password\": this.state.password,\r\n            \"role\": this.state.loginRole\r\n        }\r\n        axios.post(apiBaseUrl + 'login', payload)\r\n            .then(function (response) {\r\n                console.log(response);\r\n                if (response.data.code == 200) {\r\n                    console.log(\"Login successfull\");\r\n                    var uploadScreen = [];\r\n                    uploadScreen.push(<UploadPage appContext={self.props.appContext} role={self.state.loginRole} />)\r\n                    self.props.appContext.setState({ loginPage: [], uploadScreen: uploadScreen })\r\n                }\r\n                else if (response.data.code == 204) {\r\n                    console.log(\"Username password do not match\");\r\n                    alert(response.data.success)\r\n                }\r\n                else {\r\n                    console.log(\"Username does not exists\");\r\n                    alert(\"Username does not exist\");\r\n                }\r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            });\r\n    }\r\n    handleMenuChange(value) {\r\n        console.log(\"menuvalue\", value);\r\n        var loginRole;\r\n        if (value == 1) {\r\n            var localloginComponent = [];\r\n            loginRole = 'student';\r\n            localloginComponent.push(\r\n                <MuiThemeProvider>\r\n                    <div>\r\n                        <TextField\r\n                            hintText=\"Enter your College Rollno\"\r\n                            floatingLabelText=\"Student Id\"\r\n                            onChange={(event, newValue) => this.setState({ username: newValue })}\r\n                        />\r\n                        <br />\r\n                        <TextField\r\n                            type=\"password\"\r\n                            hintText=\"Enter your Password\"\r\n                            floatingLabelText=\"Password\"\r\n                            onChange={(event, newValue) => this.setState({ password: newValue })}\r\n                        />\r\n                        <br />\r\n                        <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)} />\r\n                    </div>\r\n                </MuiThemeProvider>\r\n            )\r\n        }\r\n        else if (value == 2) {\r\n            var localloginComponent = [];\r\n            loginRole = 'teacher';\r\n            localloginComponent.push(\r\n                <MuiThemeProvider>\r\n                    <div>\r\n                        <TextField\r\n                            hintText=\"Enter your College Rollno\"\r\n                            floatingLabelText=\"Teacher Id\"\r\n                            onChange={(event, newValue) => this.setState({ username: newValue })}\r\n                        />\r\n                        <br />\r\n                        <TextField\r\n                            type=\"password\"\r\n                            hintText=\"Enter your Password\"\r\n                            floatingLabelText=\"Password\"\r\n                            onChange={(event, newValue) => this.setState({ password: newValue })}\r\n                        />\r\n                        <br />\r\n                        <RaisedButton label=\"Submit\" primary={true} style={style} onClick={(event) => this.handleClick(event)} />\r\n                    </div>\r\n                </MuiThemeProvider>\r\n            )\r\n        }\r\n        this.setState({\r\n            menuValue: value,\r\n            loginComponent: localloginComponent,\r\n            loginRole: loginRole\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <MuiThemeProvider>\r\n                    <AppBar\r\n                        title=\"Login\"\r\n                    />\r\n                </MuiThemeProvider>\r\n                <MuiThemeProvider>\r\n                    <div>\r\n                        <p>Login as:</p>\r\n                        <DropDownMenu value={this.state.menuValue} onChange={(event, index, value) => this.handleMenuChange(value)}>\r\n                            <MenuItem value={1} primaryText=\"Student\" />\r\n                            <MenuItem value={2} primaryText=\"Teacher\" />\r\n                        </DropDownMenu>\r\n                    </div>\r\n                </MuiThemeProvider>\r\n                {this.state.loginComponent}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst style = {\r\n    margin: 15,\r\n};\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}